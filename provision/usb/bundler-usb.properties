version      1 
helptext     Bundler for real USB device

check-device sdc "USB Device Model"

image        /dev/sdc
format       raw
verbose      1
strict       1
dry_run      0

# Load bundler-dev, but ignore settings set above
load         bundler-dev.properties ignoring verbose image format dry_run
ONLY         
#append       cmdline   SS.ADD_HOST=127.0.0.1,nexus.demo,nexus 
append       cmdline   net.ifnames=0
append       cmdline   biosdevname=0
# IPv6 is unfortunately required for IPA these days
#append       cmdline   ipv6.disable=0
# NOTE the root password can be generated with 'openssl passwd -1'
# This default password here is 'password' - this should be changed before deployment
append       cmdline   ss.ROOT_PW=$1$NxR2J0fM$QS2U2lrQxpDAlb9JPWB2v/
append       cmdline   ss.STANDALONE=1
append       cmdline   ss.ADD_HOST=192.168.121.1,gateway 
append       cmdline   ss.NAMESERVER=192.168.121.1
append       cmdline   ss.NETDEV=eth0
append       cmdline   ss.ROLES=role-set:all-in-one-sde-server-node
append       cmdline   ss.SALT_TYPE=master
append       cmdline   ss.SKIP_CONFIRMATION=0 
append       cmdline   ss.GATEWAY=192.168.121.1
append       cmdline   ss.IPADDR=192.168.121.101
# Extra IP addresses for nexus
append       cmdline   ss.IPADDRS=192.168.121.101/24,192.168.121.103/24
append       cmdline   ss.IPPREFIX=24
append       cmdline   ss.TIMEZONE=UTC
append       cmdline   ss.BUNDLED_SRC=/e/bundled
append       cmdline   ss.DEVELOPMENT=1 ss.INTERACTIVE=0 ss.WAIT=0 ss.INSPECT=0 ss.VERBOSE=1

## Choose one of the following sections, depending on how the USB will be tested.

## Use lan:qemu, and 'qemu' domain, for demo USB build if the USB will be tested with a virtual machine
append       cmdline   ss.DOMAIN=qemu 
append       cmdline   ss.LAYERS=soe:demo,site:demo,lan:qemu 
append       cmdline   ss.ADD_HOST=192.168.121.101,infra.qemu,infra,master,salt,ipa
append       cmdline   ss.ADD_HOST=192.168.121.103,nexus.qemu,nexus
append       cmdline   ss.NEXUS=nexus.qemu:7081
append       cmdline   ss.SALT_MASTER=infra.qemu
append       cmdline   ss.HOSTNAME=infra.qemu

## Use lan:demo, and 'demo' domain, for demo USB build if the USB will be tested with a real machine (assuming gateway at 192.168.188.1)
#append       cmdline   ss.DOMAIN=demo
#append       cmdline   ss.LAYERS=soe:demo,site:demo,lan:qemu 
#append       cmdline   ss.ADD_HOST=192.168.121.101,infra.demo,infra,master,salt,ipa
#append       cmdline   ss.ADD_HOST=192.168.121.103,nexus.demo,nexus
#append       cmdline   ss.NEXUS=nexus.demo:7081
#append       cmdline   ss.SALT_MASTER=infra.demo 
#append       cmdline   ss.HOSTNAME=infra.demo

append       cmdline   rd.shell noquiet
